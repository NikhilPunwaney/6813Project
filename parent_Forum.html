<!DOCTYPE html>
<html lang="en">
<head>
  <title>ParentTeacherForum</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  <script src="js/dev.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Gloria+Hallelujah|Indie+Flower|League+Script|Quicksand|Ranga|Roboto" rel="stylesheet">
</head>
<body style="background-color: rgb(0, 153, 255)">

<style>
  
  span {font-weight: bold;}
  tr {height: 70px; margin-top: 10px; padding-top: 10px; vertical-align: middle;}

</style>

<div class="container" id="container" style="text-align: center;">
  <div class="row" id="header">
    
  </div>

  <div>
    <table id="forum" class="table table-striped">
      <tbody>

        <tr style="background-color:LightPink">
          <td>10:30AM</td>
          <td>
            <span>Anonymous asked: </span>
            Will there be lunch during tomorrow's half day?
          </td>
          <td></td>
        </tr>
        <tr class="collapse out" id="collapse1" style="color:white"></tr>

        <tr>
          <td>Friday</td>
          <td>
            <span>Mary Sue asked: </span>
            What will we need for the field trip?
          </td>
          <td>
            <button><span class="glyphicon glyphicon-plus" aria-hidden="true" data-toggle="collapse" data-target="#collapse2"></span></button>
          </td>
        </tr>
        <tr class="collapse out" id="collapse2" style="color:white">
          <td colspan="3">
            <span>Mrs. Walter: </span>
            Please have your children bring a packed lunch, water bottle, comfortable sneakers, and (optional) some spending money.
          </td>
        </tr>

        <tr>
          <td>Wednesday</td>
          <td>
            <span>Anonymous asked: </span>
            When is the next Math quiz?
          </td>
          <td>
            <button><span class="glyphicon glyphicon-plus" aria-hidden="true" data-toggle="collapse" data-target="#collapse3"></span></button>
          </td>
        </tr>
        <tr class="collapse out" id="collapse3" style="color:white">
          <td colspan="3">
            <span>Mrs. Walter: </span>
            The next Math quiz will be on Friday, April 21.
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div id="newquestion">
    <div><textarea id="question" rows="6" cols="60"></textarea></div>
    <div><label><input id="anon" type="checkbox"><span class="label">Anonymous</span></label></div>
    <div><button id="ask">Ask New Question</button></div>
  </div>

</div>

</body>

<script>

  var dev;

  dev = new Setup();
  dev.initParent();

  $(document).on('click', "#ask", function(evt){
    var d = new Date();
    var hour = d.getHours();
    var minute = d.getMinutes();
    var period;
    if (hour > 12) {
      period = "PM";
      hour -= 12;
    } else {
      period = "AM";
      if (hour == 0) {
        hour = 12;
      }
    }

    var asker;
    if (document.getElementById("anon").checked) {
      asker = "Anonymous";
    } else {
      asker = "Anna Applebee";
    }
    var question = document.getElementById("question").value;
    document.getElementById("question").value = "";

    forum = document.getElementById("forum");

    var hiddenRow = forum.insertRow(0);
    hiddenRow.classList.add("collapse");
    hiddenRow.classList.add("out");

    var questionRow = forum.insertRow(0);
    questionRow.style.backgroundColor = "LightPink";
    var date = questionRow.insertCell(0);
    var text = questionRow.insertCell(1);
    questionRow.insertCell(2);
    date.innerHTML = hour + ":" + minute + period;
    text.innerHTML = "<span>" + asker + " asked: </span>" + question;

  });

</script>

</html>
